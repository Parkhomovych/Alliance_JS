{"mappings":"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","sources":["<anon>","src/favorite.js","src/js/pagination.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\nparcelRequire(\"i8Q71\");\nparcelRequire(\"2Z7mb\");\n\nvar $1VFfL = parcelRequire(\"1VFfL\");\n\n\nvar $6eCCw = parcelRequire(\"6eCCw\");\n\nvar $jzQFI = parcelRequire(\"jzQFI\");\n\nvar $lHbjo = parcelRequire(\"lHbjo\");\n//зберігаємо та відновлюємо кількість сторінок пагінації (totalItems) у об'єкті options\n//використовуємо Notiflix для відображення сповіщень у разі помилок при роботі з localStorage.\n// const showFavorite = document.querySelector(\".favorite-show\");\nconst $dfaf77c789ce7a24$var$refs = (0, $lHbjo.default)();\nlet $dfaf77c789ce7a24$var$filterFavoriteCards = (0, $jzQFI.dataArray).filter((obj)=>obj.favorit).map((elem)=>elem);\nconst $dfaf77c789ce7a24$var$noRecipes = document.querySelector(\".no-recipe-content\");\nconst $dfaf77c789ce7a24$var$boxList = document.querySelector(\".box-list\");\nconst $dfaf77c789ce7a24$var$cardsFavorite = document.querySelector(\".favorite-cards\");\nconst $dfaf77c789ce7a24$var$containerShow = document.querySelector(\"#tui-pagination-container\");\nconst $dfaf77c789ce7a24$var$container = document.getElementById(\"tui-pagination-container\");\n// налаштування початкових значень в залежносты від ширини вьюпорту\nlet $dfaf77c789ce7a24$var$perPageFavorites = window.innerWidth < 768 ? 9 : 12;\nlet $dfaf77c789ce7a24$var$currentPage = 1;\nlet $dfaf77c789ce7a24$var$visiblePages = window.innerWidth < 768 ? 2 : 3;\nlet $dfaf77c789ce7a24$var$filter = \"\";\n// обєкт налаштувань пагінації\nconst $dfaf77c789ce7a24$var$options = {\n    totalItems: (0, $jzQFI.dataArray).length,\n    itemsPerPage: $dfaf77c789ce7a24$var$perPageFavorites,\n    visiblePages: $dfaf77c789ce7a24$var$visiblePages,\n    page: $dfaf77c789ce7a24$var$currentPage,\n    centerAlign: true\n};\n$dfaf77c789ce7a24$var$createFilterFavorite();\n$dfaf77c789ce7a24$var$refs.filterFavorite.addEventListener(\"click\", $dfaf77c789ce7a24$var$handlerFilterCategory);\nconst $dfaf77c789ce7a24$var$pagination = new (0, (/*@__PURE__*/$parcel$interopDefault($1VFfL)))($dfaf77c789ce7a24$var$container, $dfaf77c789ce7a24$var$options);\n//зчитуємо зі сховища кількість фаворитів, прибираемо зайвий контент,\n//ініціюэмо пагінацію по кількості відфільтрованих фаворитів\nconst $dfaf77c789ce7a24$var$fav = (0, $jzQFI.resizeFavorit)();\n$dfaf77c789ce7a24$var$hideShowFavorit($dfaf77c789ce7a24$var$fav);\n$dfaf77c789ce7a24$var$paginationOn($dfaf77c789ce7a24$var$filterFavoriteCards.length);\n$dfaf77c789ce7a24$var$showPageFavorites($dfaf77c789ce7a24$var$currentPage);\n// запуск пагінації з новими значеннями\n// встановлення слухача пагінації, відображення її,\n//в аргументах кількість відібраних фаворитів\nfunction $dfaf77c789ce7a24$var$paginationOn(totalFavorites) {\n    $dfaf77c789ce7a24$var$currentPage = 1;\n    $dfaf77c789ce7a24$var$pagination.off(\"afterMove\", $dfaf77c789ce7a24$var$onChangePagination);\n    $dfaf77c789ce7a24$var$pagination.reset(totalFavorites);\n    $dfaf77c789ce7a24$var$paginationVisualy(totalFavorites);\n    if (totalFavorites > $dfaf77c789ce7a24$var$perPageFavorites) // ставимо слухача на пагінацію\n    $dfaf77c789ce7a24$var$pagination.on(\"afterMove\", $dfaf77c789ce7a24$var$onChangePagination);\n    $dfaf77c789ce7a24$var$showPageFavorites($dfaf77c789ce7a24$var$currentPage);\n}\n// перемальовка фаворитів при події на пагінації\nfunction $dfaf77c789ce7a24$var$onChangePagination() {\n    $dfaf77c789ce7a24$var$currentPage = $dfaf77c789ce7a24$var$pagination.getCurrentPage();\n    $dfaf77c789ce7a24$var$showPageFavorites($dfaf77c789ce7a24$var$currentPage);\n}\n// розрахунок першої і останньої картки на цій сторінці\nfunction $dfaf77c789ce7a24$var$showPageFavorites(page) {\n    const favoriteStart = (page - 1) * $dfaf77c789ce7a24$var$perPageFavorites;\n    let favoriteEnd = page * $dfaf77c789ce7a24$var$perPageFavorites - 1;\n    if (favoriteEnd >= $dfaf77c789ce7a24$var$filterFavoriteCards.length) favoriteEnd = $dfaf77c789ce7a24$var$filterFavoriteCards.length - 1;\n    const arr = $dfaf77c789ce7a24$var$filterFavoriteCards.filter((elem, idx)=>idx >= favoriteStart && idx <= favoriteEnd);\n    (0, $6eCCw.renderMarkup)(arr);\n}\n// прибирання-додавання элементів, коли нема, або є фаворити\nfunction $dfaf77c789ce7a24$var$hideShowFavorit(favorits) {\n    if (favorits > 0) {\n        if (!$dfaf77c789ce7a24$var$noRecipes.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$noRecipes.classList.add(\"visually-hidden\");\n        if ($dfaf77c789ce7a24$var$boxList.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$boxList.classList.remove(\"visually-hidden\");\n        if ($dfaf77c789ce7a24$var$cardsFavorite.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$cardsFavorite.classList.remove(\"visually-hidden\");\n    } else {\n        if ($dfaf77c789ce7a24$var$noRecipes.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$noRecipes.classList.remove(\"visually-hidden\");\n        if (!$dfaf77c789ce7a24$var$boxList.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$boxList.classList.add(\"visually-hidden\");\n        if (!$dfaf77c789ce7a24$var$cardsFavorite.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$cardsFavorite.classList.add(\"visually-hidden\");\n    }\n}\n//візуалізація строки пагінації\nfunction $dfaf77c789ce7a24$var$paginationVisualy(totalFavorites) {\n    if (totalFavorites > $dfaf77c789ce7a24$var$perPageFavorites) {\n        if ($dfaf77c789ce7a24$var$containerShow.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$containerShow.classList.remove(\"visually-hidden\");\n        return;\n    }\n    if (!$dfaf77c789ce7a24$var$containerShow.classList.contains(\"visually-hidden\")) $dfaf77c789ce7a24$var$containerShow.classList.add(\"visually-hidden\");\n}\n//накладання фільтру в залежності від обраної категорії\nfunction $dfaf77c789ce7a24$var$handlerFilterCategory(e) {\n    if (e.target.textContent === \"All categories\") $dfaf77c789ce7a24$var$filterFavoriteCards = (0, $jzQFI.dataArray).filter((obj)=>obj.favorit).map((elem)=>elem);\n    else $dfaf77c789ce7a24$var$filterFavoriteCards = (0, $jzQFI.dataArray).filter((obj)=>obj.favorit && obj.category === e.target.textContent).map((elem)=>elem);\n    $dfaf77c789ce7a24$var$paginationOn($dfaf77c789ce7a24$var$filterFavoriteCards.length);\n}\n// Функція створення фільтра\nfunction $dfaf77c789ce7a24$var$createFilterFavorite() {\n    const markupFilter = $dfaf77c789ce7a24$var$markupFilterFavorite($dfaf77c789ce7a24$var$filterFavoriteCards).join(\"\");\n    $dfaf77c789ce7a24$var$refs.filterFavorite.insertAdjacentHTML(\"beforeend\", markupFilter);\n}\n// Функція розмальовка фільтра\nfunction $dfaf77c789ce7a24$var$markupFilterFavorite(dataArray) {\n    return dataArray.reduce((acc, el)=>{\n        acc.push(el.category);\n        return acc;\n    }, []).filter((el, i, array)=>array.indexOf(el) === i).map((el)=>{\n        return `<li class=\"favorite-filter-item\">${el}</li>`;\n    });\n}\n\n\n\n})();\n//# sourceMappingURL=favorite.3ba1eeb0.js.map\n","import './js/header';\nimport './js/theme-switcher';\nimport './js/pagination';","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderMarkup } from './markup-card.js';\nimport { dataArray, resizeFavorit } from './storage.js';\nimport getRefs from './hero-refs';\n\n//зберігаємо та відновлюємо кількість сторінок пагінації (totalItems) у об'єкті options\n//використовуємо Notiflix для відображення сповіщень у разі помилок при роботі з localStorage.\n// const showFavorite = document.querySelector(\".favorite-show\");\n\nconst refs = getRefs();\nlet filterFavoriteCards = dataArray\n  .filter(obj => obj.favorit)\n  .map(elem => elem);\n\nconst noRecipes = document.querySelector('.no-recipe-content');\nconst boxList = document.querySelector('.box-list');\nconst cardsFavorite = document.querySelector('.favorite-cards');\nconst containerShow = document.querySelector('#tui-pagination-container');\nconst container = document.getElementById('tui-pagination-container');\n\n// налаштування початкових значень в залежносты від ширини вьюпорту\nlet perPageFavorites = window.innerWidth < 768 ? 9 : 12;\nlet currentPage = 1;\nlet visiblePages = window.innerWidth < 768 ? 2 : 3;\nlet filter = '';\n\n// обєкт налаштувань пагінації\nconst options = {\n  totalItems: dataArray.length,\n  itemsPerPage: perPageFavorites,\n  visiblePages: visiblePages,\n  page: currentPage,\n  centerAlign: true,\n};\ncreateFilterFavorite();\n\nrefs.filterFavorite.addEventListener('click', handlerFilterCategory);\n\nconst pagination = new Pagination(container, options);\n\n//зчитуємо зі сховища кількість фаворитів, прибираемо зайвий контент,\n//ініціюэмо пагінацію по кількості відфільтрованих фаворитів\n\nconst fav = resizeFavorit();\nhideShowFavorit(fav);\npaginationOn(filterFavoriteCards.length);\nshowPageFavorites(currentPage);\n\n// запуск пагінації з новими значеннями\n// встановлення слухача пагінації, відображення її,\n//в аргументах кількість відібраних фаворитів\nfunction paginationOn(totalFavorites) {\n  currentPage = 1;\n  pagination.off('afterMove', onChangePagination);\n  pagination.reset(totalFavorites);\n  paginationVisualy(totalFavorites);\n  if (totalFavorites > perPageFavorites) {\n    // ставимо слухача на пагінацію\n    pagination.on('afterMove', onChangePagination);\n  }\n  showPageFavorites(currentPage);\n}\n\n// перемальовка фаворитів при події на пагінації\nfunction onChangePagination() {\n  currentPage = pagination.getCurrentPage();\n  showPageFavorites(currentPage);\n}\n\n// розрахунок першої і останньої картки на цій сторінці\nfunction showPageFavorites(page) {\n  const favoriteStart = (page - 1) * perPageFavorites;\n  let favoriteEnd = page * perPageFavorites - 1;\n  if (favoriteEnd >= filterFavoriteCards.length) {\n    favoriteEnd = filterFavoriteCards.length - 1;\n  }\n  const arr = filterFavoriteCards.filter(\n    (elem, idx) => idx >= favoriteStart && idx <= favoriteEnd\n  );\n  renderMarkup(arr);\n}\n\n// прибирання-додавання элементів, коли нема, або є фаворити\nfunction hideShowFavorit(favorits) {\n  if (favorits > 0) {\n    if (!noRecipes.classList.contains('visually-hidden')) {\n      noRecipes.classList.add('visually-hidden');\n    }\n    if (boxList.classList.contains('visually-hidden')) {\n      boxList.classList.remove('visually-hidden');\n    }\n    if (cardsFavorite.classList.contains('visually-hidden')) {\n      cardsFavorite.classList.remove('visually-hidden');\n    }\n  } else {\n    if (noRecipes.classList.contains('visually-hidden')) {\n      noRecipes.classList.remove('visually-hidden');\n    }\n    if (!boxList.classList.contains('visually-hidden')) {\n      boxList.classList.add('visually-hidden');\n    }\n    if (!cardsFavorite.classList.contains('visually-hidden')) {\n      cardsFavorite.classList.add('visually-hidden');\n    }\n  }\n}\n\n//візуалізація строки пагінації\nfunction paginationVisualy(totalFavorites) {\n    if (totalFavorites > perPageFavorites) {\n      if (containerShow.classList.contains('visually-hidden')) {\n        containerShow.classList.remove('visually-hidden');\n      };\n      return;\n  };\n    if (!containerShow.classList.contains('visually-hidden')) {\n      containerShow.classList.add('visually-hidden');\n    }; \n};\n\n//накладання фільтру в залежності від обраної категорії\nfunction handlerFilterCategory(e) {\n  if (e.target.textContent === 'All categories') {\n    filterFavoriteCards = dataArray\n      .filter(obj => obj.favorit)\n      .map(elem => elem);      \n    }else{      \n      filterFavoriteCards = dataArray\n      .filter(obj => obj.favorit && obj.category === e.target.textContent)\n      .map(elem => elem);\n    }\n    paginationOn(filterFavoriteCards.length);\n};\n\n// Функція створення фільтра\nfunction createFilterFavorite() {\n const markupFilter = markupFilterFavorite(filterFavoriteCards).join('');\n  refs.filterFavorite.insertAdjacentHTML('beforeend', markupFilter);\n}\n\n// Функція розмальовка фільтра\nfunction markupFilterFavorite(dataArray) {\n  return dataArray\n    .reduce((acc, el) => {\n      acc.push(el.category);\n      return acc;\n    }, [])\n    .filter((el, i, array) => array.indexOf(el) === i)\n    .map(el => {\n      return `<li class=\"favorite-filter-item\">${el}</li>`;\n    });\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$1VFfL","$6eCCw","$jzQFI","$lHbjo","$dfaf77c789ce7a24$var$refs","default","$dfaf77c789ce7a24$var$filterFavoriteCards","dataArray","filter","obj","favorit","map","elem","$dfaf77c789ce7a24$var$noRecipes","document","querySelector","$dfaf77c789ce7a24$var$boxList","$dfaf77c789ce7a24$var$cardsFavorite","$dfaf77c789ce7a24$var$containerShow","$dfaf77c789ce7a24$var$container","getElementById","$dfaf77c789ce7a24$var$perPageFavorites","innerWidth","$dfaf77c789ce7a24$var$currentPage","$dfaf77c789ce7a24$var$visiblePages","$dfaf77c789ce7a24$var$options","totalItems","length","itemsPerPage","visiblePages","page","centerAlign","$dfaf77c789ce7a24$var$createFilterFavorite","markupFilter","$dfaf77c789ce7a24$var$markupFilterFavorite","reduce","acc","el","push","category","i","array","indexOf","join","filterFavorite","insertAdjacentHTML","addEventListener","e","$dfaf77c789ce7a24$var$paginationOn","target","textContent","$dfaf77c789ce7a24$var$pagination","a","__esModule","$dfaf77c789ce7a24$var$fav","resizeFavorit","totalFavorites","off","$dfaf77c789ce7a24$var$onChangePagination","reset","$dfaf77c789ce7a24$var$paginationVisualy","classList","contains","remove","add","on","$dfaf77c789ce7a24$var$showPageFavorites","getCurrentPage","favoriteStart","favoriteEnd","arr","idx","renderMarkup","favorits"],"version":3,"file":"favorite.3ba1eeb0.js.map"}