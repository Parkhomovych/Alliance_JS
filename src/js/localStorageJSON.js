import { Notify } from 'notiflix';

// –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å—Ö–æ–≤–∏—â—ñ
const save = (key, value) => {
  try {
    const serializedState = JSON.stringify(value);
    localStorage.setItem(key, serializedState);
  } catch (error) {
    // –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö
    console.error('–£–ø—Å, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö: ', error.message);
    Notify.failure(
      "–û–π-–æ–π, –∑–¥–∞—î—Ç—å—Å—è, –º–∏ –Ω–∞—Ç—Ä–∞–ø–∏–ª–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫—É –ø–æ–º–∏–ª–∫—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑, —ñ, –º–æ–∂–ª–∏–≤–æ, –Ω–∞ —Ü–µ–π —Ä–∞–∑ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω—ñ –¥—É—Ö–∏ –±—É–¥—É—Ç—å –≤ –≥–∞—Ä–Ω–æ–º—É –Ω–∞—Å—Ç—Ä–æ—ó. üôÉ"
    );
  }
};

// –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
const load = key => {
  try {
    const serializedState = localStorage.getItem(key);
    return serializedState === null ? undefined : JSON.parse(serializedState);
  } catch (error) {
    // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö
    console.error('–£–ø—Å, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ –¥–∞–Ω–∏—Ö: ', error.message);
    Notify.failure(
      "–û–π-–æ–π, –∑–¥–∞—î—Ç—å—Å—è, –º–∏ –Ω–∞—Ç—Ä–∞–ø–∏–ª–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫—É –ø–æ–º–∏–ª–∫—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑, —ñ, –º–æ–∂–ª–∏–≤–æ, –Ω–∞ —Ü–µ–π —Ä–∞–∑ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω—ñ –¥—É—Ö–∏ –±—É–¥—É—Ç—å –≤ –≥–∞—Ä–Ω–æ–º—É –Ω–∞—Å—Ç—Ä–æ—ó. üôÉ"
    );
  }
};

// –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
const remove = key => {
  try {
    localStorage.removeItem(key);
  } catch (error) {
    // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö
    console.error('–£–ø—Å, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö: ', error.message);
    Notify.failure(
      "–û–π-–æ–π, –∑–¥–∞—î—Ç—å—Å—è, –º–∏ –Ω–∞—Ç—Ä–∞–ø–∏–ª–∏ –Ω–∞ –º–∞–ª–µ–Ω—å–∫—É –ø–æ–º–∏–ª–∫—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑, —ñ, –º–æ–∂–ª–∏–≤–æ, –Ω–∞ —Ü–µ–π —Ä–∞–∑ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω—ñ –¥—É—Ö–∏ –±—É–¥—É—Ç—å –≤ –≥–∞—Ä–Ω–æ–º—É –Ω–∞—Å—Ç—Ä–æ—ó. üôÉ"
    );
  }
};

export { save, load, remove };
